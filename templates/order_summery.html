{% extends 'base.html' %}
{% block content %}
<div class ="container">
<div class="box-element">      
    <hr>
    <h3>Order Summary</h3>
    <hr>
    <div class="cart-row">
        <div style="flex:2"><img class="row-image" src="{{order.product.image.url}} "width="250px" height="150px"></div>
        <div style="flex:2"><p class="fs-5">Name: {{order.product.Name}}</p></div>
        <div style="flex:1"><p class="fs-5">Price: {{order.amount|floatformat:2}}</p></div>

        <form action="{% url 'get_coupon' %}" class="form-inline" method="POST" id="couponcodeform" on-submit="return false">
            {% csrf_token %} 
        <div class="row g-3"> 
        <div class="col-auto">
        <input  class="form-control "type="text" id="couponcode" name="couponcode"  placeholder="Enter Coupon code">
        </div>
        <div class="col-auto">
        <button type="submit" value="Continue" class="btn btn-success">Redeem</button>
        </div>
        </div>
        </form>
        <br>
    </div>
</div>



<form action="/handlerequest" method="post" >
        {% csrf_token %}
<script
src="https://checkout.razorpay.com/v1/checkout.js"
data-key="{{razorpay_merchant_id}}" // Enter the Test API Key ID generated from Dashboard → Settings → API Keys
data-currency="INR"//You can accept international payments by changing the currency code. Contact our Support Team to enable International for your account
data-order_id="{{order_id }}"//Replace with the order_id generated by you in the backend.
data-prefill.name="{{request.user.name}}"
data-prefill.email="{{request.user.email}}"
data-prefill.contact= "+91" + "{{request.user.phone}}"
data-name="Cargo"
></script>
</form>
</div>
</div>
{% endblock content %}